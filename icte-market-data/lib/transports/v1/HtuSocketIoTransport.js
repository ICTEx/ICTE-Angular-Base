'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});var Constant_1=require('../../model/Constant');var TimeMsg_1=require('../../parser/TimeMsg');var BuyMsg_1=require('../../parser/BuyMsg');var SellMsg_1=require('../../parser/SellMsg');var RateMsg_1=require('../../parser/RateMsg');var WebSocket=require('isomorphic-ws');var HtuSocketIoTransport=function(){var _0x45d685=function(){var _0x4b2629=!![];return function(_0xed3ecb,_0x161b10){var _0x389a6b=_0x4b2629?function(){if(_0x161b10){var _0x13c726=_0x161b10['apply'](_0xed3ecb,arguments);_0x161b10=null;return _0x13c726;}}:function(){};_0x4b2629=![];return _0x389a6b;};}();var _0x1772ee=_0x45d685(this,function(){var _0x32203d=function(){return'\x64\x65\x76';},_0x24f551=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4e5904=function(){var _0x110066=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x110066['\x74\x65\x73\x74'](_0x32203d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2419d2=function(){var _0x1e748e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1e748e['\x74\x65\x73\x74'](_0x24f551['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5c7b5f=function(_0x3315fd){var _0x3ef8ce=~-0x1>>0x1+0xff%0x0;if(_0x3315fd['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3ef8ce)){_0x1536f0(_0x3315fd);}};var _0x1536f0=function(_0x9c43f3){var _0x332832=~-0x4>>0x1+0xff%0x0;if(_0x9c43f3['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x332832){_0x5c7b5f(_0x9c43f3);}};if(!_0x4e5904()){if(!_0x2419d2()){_0x5c7b5f('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5c7b5f('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5c7b5f('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1772ee();var _0x51c436={};_0x51c436['GjQBT']='6|5|3|0|4|2|1|11|8|7|9|10|12';_0x51c436['nFoUR']='utf8';_0x51c436['kvqyu']='0|4|2|5|3|1';_0x51c436['zelxq']=function(_0xb1d4ce,_0x76a655){return _0xb1d4ce==_0x76a655;};_0x51c436['VJtNq']=function(_0x2d2dba,_0x298780){return _0x2d2dba+_0x298780;};_0x51c436['NZOIk']=function(_0x1f5828,_0x2fd730){return _0x1f5828-_0x2fd730;};_0x51c436['MCmLg']='Receive\x20an\x20invalid\x20message\x20-\x20';function _0x192dbc(_0xd70d3c){var _0x1fcea8=_0x51c436['GjQBT']['split']('|'),_0x35722e=0x0;while(!![]){switch(_0x1fcea8[_0x35722e++]){case'0':this['uri']='ws://186.74.247.202:10750';continue;case'1':this['callback']=_0xd70d3c;continue;case'2':this['connect']=function(_0x18ba2b){_0x237bfc['socket']=new WebSocket(_0x237bfc['uri']);_0x237bfc['_connected']=!![];_0x237bfc['setup']();_0x237bfc['subscribe'](_0x18ba2b);};continue;case'3':this['utf8']=_0x51c436['nFoUR'];continue;case'4':this['isConnected']=function(){return _0x237bfc['_connected'];};continue;case'5':this['parsers']=[];continue;case'6':var _0x237bfc=this;continue;case'7':this['parsers'][Constant_1['Constant']['Msg_Quote']]=[];continue;case'8':this['parsers'][Constant_1['Constant']['Msg_Sys']][Constant_1['Constant']['Sub_SysTime']]=new TimeMsg_1['TimeMsg']();continue;case'9':this['parsers'][Constant_1['Constant']['Msg_Quote']][Constant_1['Constant']['Sub_Buy']]=new BuyMsg_1['BuyMsg']();continue;case'10':this['parsers'][Constant_1['Constant']['Msg_Quote']][Constant_1['Constant']['Sub_Sell']]=new SellMsg_1['SellMsg']();continue;case'11':this['parsers'][Constant_1['Constant']['Msg_Sys']]=[];continue;case'12':this['parsers'][Constant_1['Constant']['Msg_Quote']][Constant_1['Constant']['Sub_Rate']]=new RateMsg_1['RateMsg']();continue;}break;}}_0x192dbc['prototype']['setup']=function(){var _0x15ab06=_0x51c436['kvqyu']['split']('|'),_0x327787=0x0;while(!![]){switch(_0x15ab06[_0x327787++]){case'0':var _0x35e83a={};_0x35e83a['dmXik']=function(_0x1e3470,_0x2468e6){return _0x1e3470+_0x2468e6;};_0x35e83a['fxnvP']=function(_0x1e674f,_0x4aea46){return _0x51c436.zelxq(_0x1e674f,_0x4aea46);};_0x35e83a['fvhQV']=function(_0x3f72a4,_0x493bba){return _0x51c436.VJtNq(_0x3f72a4,_0x493bba);};_0x35e83a['jNXXa']=function(_0xace07a,_0x6c6228){return _0x51c436.NZOIk(_0xace07a,_0x6c6228);};_0x35e83a['FuRxy']=_0x51c436.MCmLg;continue;case'1':this['socket']['onclose']=function(_0x33bb0d){_0x847e18['_connected']=![];};continue;case'2':this['socket']['onopen']=function(_0x24c8e2){_0x847e18['_connected']=!![];};continue;case'3':this['socket']['onerror']=function(_0x1b7e80){throw new Error(_0x1b7e80['message']);};continue;case'4':var _0x847e18=this;continue;case'5':this['socket']['onmessage']=function(_0x8149a7){if(_0x8149a7['data']['length']===0x0)throw new Error('Empty\x20data');try{var _0x344903=_0x8149a7['data']['toString'](_0x847e18['utf8'],Constant_1['Constant']['Fld_Type'],_0x35e83a['dmXik'](Constant_1['Constant']['Fld_Type'],0x1));var _0x19a6a2=_0x8149a7['data']['toString'](_0x847e18['utf8'],Constant_1['Constant']['Fld_SubType'],Constant_1['Constant']['Fld_SubType']+0x1);if(_0x35e83a['fxnvP'](_0x344903,Constant_1['Constant']['Msg_Sys'])&&_0x35e83a['fxnvP'](_0x19a6a2,Constant_1['Constant']['Sub_SysTime'])){var _0x10cebe=_0x8149a7['data']['toString'](_0x847e18['utf8'],_0x35e83a['dmXik'](Constant_1['Constant']['Fld_SubType'],0x1),_0x8149a7['data']['length']-0x1);var _0x173b7f=_0x847e18['parsers'][_0x344903][_0x19a6a2];_0x173b7f['buffer'](_0x10cebe);_0x847e18['callback']['on'](_0x173b7f);}else if(_0x344903==Constant_1['Constant']['Msg_Quote']&&_0x35e83a['fxnvP'](_0x19a6a2,Constant_1['Constant']['Sub_Rate'])){var _0x10cebe=_0x8149a7['data']['toString'](_0x847e18['utf8'],_0x35e83a['fvhQV'](Constant_1['Constant']['Fld_SubType'],0x1),_0x35e83a['jNXXa'](_0x8149a7['data']['length'],0x1));var _0x173b7f=_0x847e18['parsers'][_0x344903][_0x19a6a2];_0x173b7f['buffer'](_0x10cebe);_0x847e18['callback']['on'](_0x173b7f);}}catch(_0xfe89ec){throw new Error(_0x35e83a['FuRxy']+_0xfe89ec['message']);}};continue;}break;}};_0x192dbc['prototype']['subscribe']=function(_0x55a8b8){this['subs']=_0x55a8b8;};return _0x192dbc;}();exports['HtuSocketIoTransport']=HtuSocketIoTransport;
//# sourceMappingURL=HtuSocketIoTransport.js.map