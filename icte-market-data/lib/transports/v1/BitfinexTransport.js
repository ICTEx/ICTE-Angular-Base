'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]});var BitfinexProxy_1=require('./BitfinexProxy');var BitfinexConstant_1=require('./BitfinexConstant');var MsgFactory_1=require('./MsgFactory');var MdConstant_1=require('../api/MdConstant');var MdUtils_1=require('../api/MdUtils');var Utilities_1=require('../../model/Utilities');var BitfinexTransport=function(){var _0x3a6b93={};_0x3a6b93['sxtRF']='Bitfinex\x20is\x20connected.';_0x3a6b93['dSvsd']='**\x20Bitfinex\x20close!!';_0x3a6b93['evnbU']=function(_0x5c16d4,_0x34799a){return _0x5c16d4 in _0x34799a;};_0x3a6b93['QNaOJ']='5|0|2|4|1|3';_0x3a6b93['TTBnS']=function(_0x21db88,_0x19e063){return _0x21db88/_0x19e063;};_0x3a6b93['GFmYN']=function(_0x54abf9,_0x7f2109){return _0x54abf9*_0x7f2109;};_0x3a6b93['wTEiE']=function(_0x34a787,_0x59adf7){return _0x34a787%_0x59adf7;};_0x3a6b93['CNBQC']=function(_0x14c5c8,_0x23da01){return _0x14c5c8%_0x23da01;};_0x3a6b93['wMMiR']=function(_0xb5972e,_0x57fb40){return _0xb5972e*_0x57fb40;};_0x3a6b93['jJceR']=function(_0x2300f4,_0x35ad43){return _0x2300f4/_0x35ad43;};_0x3a6b93['aWEje']=function(_0x1f4aa0,_0x14b5cd){return _0x1f4aa0*_0x14b5cd;};function _0x3f4153(_0x339d0c){this['_connected']=![];this['cb']=_0x339d0c;}_0x3f4153['prototype']['isConnected']=function(){return this['_connected'];};_0x3f4153['prototype']['connect']=function(_0x4d92d9){this['init']();};_0x3f4153['prototype']['init']=function(){var _0x32d76a='6|2|5|1|0|4|3'['split']('|'),_0x52bfe8=0x0;while(!![]){switch(_0x32d76a[_0x52bfe8++]){case'0':this['proxy']['on'](BitfinexConstant_1['BitfinexConstant']['CLOSEEVENT'],function(_0x413dea){_0x4a7be9['_connected']=![];Utilities_1['Utilities']['logger']['warn'](_0xb41454['EdMhc'],_0x413dea['code'],_0x413dea['reason']);});continue;case'1':this['proxy']['on'](BitfinexConstant_1['BitfinexConstant']['OPENEVENT'],function(_0x11205e){_0x4a7be9['_connected']=!![];Utilities_1['Utilities']['logger']['warn'](_0xb41454['uDdEj']);});continue;case'2':var _0x4a7be9=this;continue;case'3':this['proxy']['on'](BitfinexConstant_1['BitfinexConstant']['TICKEREVENT'],function(_0x45a0cf,_0x977330){_0x4a7be9['processMessage'](_0x45a0cf,_0x977330);});continue;case'4':this['proxy']['on'](BitfinexConstant_1['BitfinexConstant']['ERROREVENT'],function(_0x31a6ed){Utilities_1['Utilities']['logger']['warn']('***\x20Bitfinex\x20ERROR!!',_0x31a6ed);});continue;case'5':this['proxy']=new BitfinexProxy_1['BitfinexProxy']();continue;case'6':var _0xb41454={};_0xb41454['uDdEj']=_0x3a6b93.sxtRF;_0xb41454['EdMhc']=_0x3a6b93.dSvsd;continue;}break;}};_0x3f4153['prototype']['processMessage']=function(_0x2a1187,_0x22e877){if(_0x3a6b93['evnbU'](_0x2a1187,BitfinexConstant_1['BitfinexConstant']['PAIRS'])){var _0x4ee1fe=_0x3a6b93['QNaOJ']['split']('|'),_0x5d4186=0x0;while(!![]){switch(_0x4ee1fe[_0x5d4186++]){case'0':var _0x15cbea=_0x3a6b93['TTBnS'](Math['trunc'](_0x22e877[BitfinexConstant_1['BitfinexConstant']['MSG_BID']]*BitfinexConstant_1['BitfinexConstant']['DIV']),BitfinexConstant_1['BitfinexConstant']['DIV']);continue;case'1':_0x59c05b['buffer'](MdUtils_1['MdUtils']['getMsSinceMidnight'](),BitfinexConstant_1['BitfinexConstant']['PAIRS'][_0x2a1187]['symbol'],Math['trunc'](_0x83b411),Math['trunc'](_0x3a6b93['GFmYN'](_0x3a6b93['wTEiE'](_0x83b411,0x1),BitfinexConstant_1['BitfinexConstant']['DIV'])),Math['trunc'](_0x15cbea),Math['trunc'](_0x3a6b93['CNBQC'](_0x15cbea,0x1)*BitfinexConstant_1['BitfinexConstant']['DIV']),Math['trunc'](_0x548066),Math['trunc'](_0x3a6b93['wMMiR'](_0x3a6b93['CNBQC'](_0x548066,0x1),BitfinexConstant_1['BitfinexConstant']['DIV'])),MdConstant_1['MdConstant']['BitfinexTransport'],BitfinexConstant_1['BitfinexConstant']['PAIRS'][_0x2a1187]['bench']);continue;case'2':var _0x548066=_0x3a6b93['TTBnS'](Math['trunc'](_0x3a6b93['wMMiR'](_0x22e877[BitfinexConstant_1['BitfinexConstant']['MSG_ASK']],BitfinexConstant_1['BitfinexConstant']['DIV'])),BitfinexConstant_1['BitfinexConstant']['DIV']);continue;case'3':this['cb']['on'](_0x59c05b);continue;case'4':var _0x83b411=_0x3a6b93['jJceR'](Math['trunc'](_0x3a6b93['aWEje'](_0x22e877[BitfinexConstant_1['BitfinexConstant']['MSG_LAST_PRICE']],BitfinexConstant_1['BitfinexConstant']['DIV'])),BitfinexConstant_1['BitfinexConstant']['DIV']);continue;case'5':var _0x59c05b=MsgFactory_1['MsgFactory']['level1Msg'];continue;}break;}}};return _0x3f4153;}();exports['BitfinexTransport']=BitfinexTransport;