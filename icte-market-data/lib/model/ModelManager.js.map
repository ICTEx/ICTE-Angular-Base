{"version":3,"sources":["lib.js"],"names":["Object","exports","Constant_1","require","SymbolModel_1","MdConstant_1","RealtimeModel_1","Symbols_1","ModelManager","_0x378203","_0x543e3d","_0x500ce3","_0x3a16e8","_0xa680dc","Date","_0x402a52","_0x59b925","_0x56b326","_0x3f9af3","_0x3d9193","_0x1534c0","_0x3f055c","_0x46406b","_0x5943f3","_0x29f27d","_0x3ca6ab","_0x2b8a12","_0x4f5948","_0x3fab27","undefined","_0x4af6c8","_0x4be7da","_0x338d63","_0xccc8a2","_0x1e320e","_0x94c288","_0x50549e","_0x210086","_0x55b0cb","_0x40df7f","_0x3bd9cb","_0xbf100c","_0x20968b","_0x791db4","_0x2c4197","_0x3e36eb","_0x1fd161","_0x4a6d2a"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Constant_1 = require(\"./Constant\");\r\nvar SymbolModel_1 = require(\"./SymbolModel\");\r\nvar MdConstant_1 = require(\"../transports/api/MdConstant\");\r\nvar RealtimeModel_1 = require(\"./RealtimeModel\");\r\nvar Symbols_1 = require(\"./Symbols\");\r\nvar ModelManager = /** @class */ (function () {\r\n    function ModelManager() {\r\n        var _this = this;\r\n        this.connect = function () {\r\n            _this.benchModel = [];\r\n            _this.reactModel = [];\r\n            _this.timerModel = [];\r\n            // @ts-ignore\r\n            for (var i = 0; i < MdConstant_1.MdConstant.COINS.length; i++) {\r\n                _this.benchModel[i] = new RealtimeModel_1.RealtimeModel(i);\r\n                _this.reactModel[i] = new RealtimeModel_1.RealtimeModel(i);\r\n                _this.timerModel[i] = new SymbolModel_1.SymbolModel(i);\r\n            }\r\n            _this.symbols = new Symbols_1.Symbols(_this.timerModel);\r\n        };\r\n        this.getModelTime = function () {\r\n            return _this.time;\r\n        };\r\n        this.setModelTime = function (deltaTime) {\r\n            _this.time = _this.getGmtZeroMidnight() + deltaTime;\r\n        };\r\n        this.getGmtZeroMidnight = function () {\r\n            var d = new Date();\r\n            var z = d.getTime() + (d.getTimezoneOffset() * 60000);\r\n            var zd = new Date(z);\r\n            zd.setHours(0);\r\n            zd.setMinutes(0);\r\n            zd.setSeconds(0);\r\n            zd.setMilliseconds(0);\r\n            return zd.getTime();\r\n        };\r\n        this.findSymbol = function (symbol) {\r\n            var index = MdConstant_1.MdConstant.COINS.indexOf(symbol);\r\n            if (index >= 0) {\r\n                return index;\r\n            }\r\n            return -1;\r\n        };\r\n        this.getUpdate = function () {\r\n            //sort and update\r\n            _this.symbols.update();\r\n            var arr = _this.symbols.arr;\r\n            for (var item in arr) {\r\n                if (arr[item].wallet.getEnable()) {\r\n                    _this.wrap(_this.reactModel[arr[item].id], _this.timerModel[arr[item].id]);\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            return _this.symbols;\r\n        };\r\n        this.setUpdate = function (data) {\r\n            //type switch\r\n            switch (data.msgType()) {\r\n                case Constant_1.Constant.Msg_Sys:\r\n                    //subtype switch\r\n                    switch (data.msgSubtype()) {\r\n                        case Constant_1.Constant.Sub_SysTime:\r\n                            _this.updateTime(data);\r\n                            break;\r\n                    }\r\n                    break;\r\n                case Constant_1.Constant.Msg_Position:\r\n                    switch (data.msgSubtype()) {\r\n                        case Constant_1.Constant.Sub_PositionUpdate:\r\n                            _this.updateCalc(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_PositionLock:\r\n                            _this.updateLockCalc(data);\r\n                            ;\r\n                            break;\r\n                    }\r\n                    break;\r\n                case Constant_1.Constant.Msg_Quote:\r\n                    //subtype switch\r\n                    switch (data.msgSubtype()) {\r\n                        case Constant_1.Constant.Sub_Level1:\r\n                            _this.updateLevel1(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_Quote:\r\n                            _this.updateQuote(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_Buy:\r\n                            _this.updateBuy(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_Sell:\r\n                            _this.updateSell(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_Bid:\r\n                            _this.updateBid(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_Ask:\r\n                            _this.updateAsk(data);\r\n                            break;\r\n                        case Constant_1.Constant.Sub_Rate:\r\n                            _this.updateRate(data);\r\n                            break;\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n        this.updateTime = function (data) {\r\n            _this.setModelTime(_this.getGmtZeroMidnight() + data.getDeltaTime());\r\n        };\r\n        this.updateLockCalc = function (data) {\r\n            var id = data.getId();\r\n            _this.timerModel[id].wallet.setEnable(false);\r\n        };\r\n        this.updateCalc = function (data) {\r\n            var id = data.getId();\r\n            _this.timerModel[id].wallet.setSizeInt(data.getSizeInt());\r\n            _this.timerModel[id].wallet.setSizeFrac(data.getSizeFrac());\r\n            _this.timerModel[id].wallet.setEnable(true);\r\n        };\r\n        this.updateLevel1 = function (data) {\r\n            if (_this.reactModel[data.getId()] == undefined) {\r\n                _this.reactModel[data.getId()] = new SymbolModel_1.SymbolModel(data.getId());\r\n            }\r\n            var id = data.getId();\r\n            _this.reactModel[id].price._priceInt = data.getPriceInt();\r\n            _this.reactModel[id].price._priceFrac = data.getPriceFrac();\r\n            _this.reactModel[id].bid._priceInt = data.getBidInt();\r\n            _this.reactModel[id].bid._priceFrac = data.getBidFrac();\r\n            _this.reactModel[id].ask._priceInt = data.getAskInt();\r\n            _this.reactModel[id].ask._priceFrac = data.getAskFrac();\r\n        };\r\n        this.updateQuote = function (data) {\r\n            var id = data.getId();\r\n            var benchId = data.getBenchId();\r\n            if (benchId == 0) {\r\n                _this.benchModel[id].bid._priceInt = data.getBidInt();\r\n                _this.benchModel[id].bid._priceFrac = data.getBidFrac();\r\n                _this.benchModel[id].bid._sizeInt = data.getBidSizeInt();\r\n                _this.benchModel[id].bid._sizeFrac = data.getBidSizeFrac();\r\n                _this.benchModel[id].ask._priceInt = data.getAskInt();\r\n                _this.benchModel[id].ask._priceFrac = data.getAskFrac();\r\n                _this.benchModel[id].ask._sizeInt = data.getAskSizeInt();\r\n                _this.benchModel[id].ask._sizeFrac = data.getAskSizeFrac();\r\n            }\r\n            else {\r\n                _this.reactModel[id].bid._priceInt = data.getBidInt();\r\n                _this.reactModel[id].bid._priceFrac = data.getBidFrac();\r\n                _this.reactModel[id].bid._sizeInt = data.getBidSizeInt();\r\n                _this.reactModel[id].bid._sizeFrac = data.getBidSizeFrac();\r\n                _this.reactModel[id].ask._priceInt = data.getAskInt();\r\n                _this.reactModel[id].ask._priceFrac = data.getAskFrac();\r\n                _this.reactModel[id].ask._sizeInt = data.getAskSizeInt();\r\n                _this.reactModel[id].ask._sizeFrac = data.getAskSizeFrac();\r\n            }\r\n        };\r\n        this.updateBuy = function (data) {\r\n            var id = data.getId();\r\n            var benchId = data.getBenchId();\r\n            if (benchId == 0) {\r\n                _this.benchModel[id].price._priceInt = data.getPriceInt();\r\n                _this.benchModel[id].price._priceFrac = data.getPriceFrac();\r\n                _this.benchModel[id].price._sizeInt = data.getSizeInt();\r\n                _this.benchModel[id].price._sizeFrac = data.getSizeFrac();\r\n                _this.benchModel[id].price._venue = data.getVenue();\r\n            }\r\n            else {\r\n                _this.reactModel[id]._volumeInt = data.getVolumeInt();\r\n                _this.reactModel[id]._volumeFrac = data.getVolumeFrac();\r\n                _this.reactModel[id].price._priceInt = data.getPriceInt();\r\n                _this.reactModel[id].price._priceFrac = data.getPriceFrac();\r\n                _this.reactModel[id].price._sizeInt = data.getSizeInt();\r\n                _this.reactModel[id].price._sizeFrac = data.getSizeFrac();\r\n                _this.reactModel[id].price._venue = data.getVenue();\r\n            }\r\n        };\r\n        this.updateSell = function (data) {\r\n            var id = data.getId();\r\n            var benchId = data.getBenchId();\r\n            if (benchId == 0) {\r\n                _this.benchModel[id].price._priceInt = data.getPriceInt();\r\n                _this.benchModel[id].price._priceFrac = data.getPriceFrac();\r\n                _this.benchModel[id].price._sizeInt = data.getSizeInt();\r\n                _this.benchModel[id].price._sizeFrac = data.getSizeFrac();\r\n                _this.benchModel[id].price._venue = data.getVenue();\r\n            }\r\n            else {\r\n                _this.reactModel[id]._volumeInt = data.getVolumeInt();\r\n                _this.reactModel[id]._volumeFrac = data.getVolumeFrac();\r\n                _this.reactModel[id].price._priceInt = data.getPriceInt();\r\n                _this.reactModel[id].price._priceFrac = data.getPriceFrac();\r\n                _this.reactModel[id].price._sizeInt = data.getSizeInt();\r\n                _this.reactModel[id].price._sizeFrac = data.getSizeFrac();\r\n                _this.reactModel[id].price._venue = data.getVenue();\r\n            }\r\n        };\r\n        this.updateBid = function (data) {\r\n            var id = data.getId();\r\n            var benchId = data.getBenchId();\r\n            if (benchId == 0) {\r\n                _this.benchModel[id].bid._priceInt = data.getPriceInt();\r\n                _this.benchModel[id].bid._priceFrac = data.getPriceFrac();\r\n                _this.benchModel[id].bid._sizeInt = data.getSizeInt();\r\n                _this.benchModel[id].bid._sizeFrac = data.getSizeFrac();\r\n                _this.benchModel[id].bid._venue = data.getVenue();\r\n            }\r\n            else {\r\n                _this.reactModel[id].bid._priceInt = data.getPriceInt();\r\n                _this.reactModel[id].bid._priceFrac = data.getPriceFrac();\r\n                _this.reactModel[id].bid._sizeInt = data.getSizeInt();\r\n                _this.reactModel[id].bid._sizeFrac = data.getSizeFrac();\r\n                _this.reactModel[id].bid._venue = data.getVenue();\r\n            }\r\n        };\r\n        this.updateAsk = function (data) {\r\n            var id = data.getId();\r\n            var benchId = data.getBenchId();\r\n            if (benchId == 0) {\r\n                _this.benchModel[id].ask._priceInt = data.getPriceInt();\r\n                _this.benchModel[id].ask._priceFrac = data.getPriceFrac();\r\n                _this.benchModel[id].ask._sizeInt = data.getSizeInt();\r\n                _this.benchModel[id].ask._sizeFrac = data.getSizeFrac();\r\n                _this.benchModel[id].ask._venue = data.getVenue();\r\n                _this.benchModel[id].ask._benchId = data.getBenchId();\r\n            }\r\n            else {\r\n                _this.reactModel[id].ask._priceInt = data.getPriceInt();\r\n                _this.reactModel[id].ask._priceFrac = data.getPriceFrac();\r\n                _this.reactModel[id].ask._sizeInt = data.getSizeInt();\r\n                _this.reactModel[id].ask._sizeFrac = data.getSizeFrac();\r\n                _this.reactModel[id].ask._venue = data.getVenue();\r\n                _this.reactModel[id].ask._benchId = data.getBenchId();\r\n            }\r\n        };\r\n        this.updateRate = function (data) {\r\n        };\r\n        this.wrap = function (fromModel, toModel) {\r\n            //TODO\r\n            fromModel.price.wrap(toModel.price);\r\n            fromModel.bid.wrap(toModel.bid);\r\n            fromModel.ask.wrap(toModel.ask);\r\n        };\r\n    }\r\n    return ModelManager;\r\n}());\r\nexports.ModelManager = ModelManager;\r\n"]}